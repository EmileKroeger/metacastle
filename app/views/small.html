<div class="castlebox">
  <div ng-repeat="j in range(CASTLEHEI)" class="row">
    <span ng-repeat="i in range(CASTLEWID)"
      ng-style="getStyle(i, j, getCastleTile(i,  CASTLEHEI - 1 - j))"
      class="tile"
      title="{{i}}, {{CASTLEHEI - 1 - j}}"
      >
      &nbsp;
    </span>
  </div>
  <div
    ng-repeat="tile in tiles"
    class="tile"
      ng-style="getStyle(tile.x, CASTLEHEI - 1 - tile.y, tile.tilecode)"
    >
  </div>
</div>